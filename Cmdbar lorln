-- Ø§Ù„Ø®Ø¯Ù…Ø§Øª
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")
local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

-- Ø±ÙŠÙ…ÙˆØª HDAdmin
local HDAdmin = ReplicatedStorage:WaitForChild("HDAdminHDClient")
local Signals = HDAdmin:WaitForChild("Signals")
local RequestCommandModification = Signals:WaitForChild("RequestCommandModification")

-- Ø¥Ù†Ø´Ø§Ø¡ ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "HDAdminGUI"
ScreenGui.Parent = PlayerGui

-- Ø¥Ù†Ø´Ø§Ø¡ Frame Ù„Ù„ÙˆØ§Ø¬Ù‡Ø©
local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 180, 0, 70) -- Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø­Ø¬Ù… Ù„Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø§Ù„Ø³Ø­Ø¨
Frame.Position = UDim2.new(0.5, -90, 0.5, -35)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.BorderSizePixel = 0
Frame.Parent = ScreenGui

-- Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…Ø³ØªØ¯ÙŠØ±Ø©
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = Frame

-- Ø´Ø±ÙŠØ· Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø¹Ù„ÙˆÙŠ
local DragBar = Instance.new("Frame")
DragBar.Size = UDim2.new(1, 0, 0, 20)
DragBar.Position = UDim2.new(0, 0, 0, 0)
DragBar.BackgroundColor3 = Color3.fromRGB(0, 120, 200)
DragBar.BorderSizePixel = 0
DragBar.Parent = Frame

-- Ø²ÙˆØ§ÙŠØ§ Ù…Ø³ØªØ¯ÙŠØ±Ø© Ù„Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ ÙÙ‚Ø·
local DragBarCorner = Instance.new("UICorner")
DragBarCorner.CornerRadius = UDim.new(0, 10)
DragBarCorner.Parent = DragBar

-- Ù†Øµ Ø§Ù„Ø³Ø­Ø¨
local DragText = Instance.new("TextLabel")
DragText.Size = UDim2.new(1, 0, 1, 0)
DragText.Position = UDim2.new(0, 0, 0, 0)
DragText.BackgroundTransparency = 1
DragText.TextColor3 = Color3.new(1, 1, 1)
DragText.Font = Enum.Font.SourceSansBold
DragText.TextSize = 12
DragText.Text = "Ø¨Ø¯ÙŠÙ„ bundle"
DragText.Parent = DragBar

-- Ø²Ø± On/Off
local Button = Instance.new("TextButton")
Button.Size = UDim2.new(1, -20, 0, 40) -- ØªØµØºÙŠØ± Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§Ø­Ø©
Button.Position = UDim2.new(0, 10, 0, 25)
Button.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
Button.TextColor3 = Color3.new(1, 1, 1)
Button.Font = Enum.Font.SourceSansBold
Button.TextSize = 18
Button.Text = "OFF"
Button.Parent = Frame

-- Ø²ÙˆØ§ÙŠØ§ Ù…Ø³ØªØ¯ÙŠØ±Ø© Ù„Ù„Ø²Ø±
local ButtonCorner = Instance.new("UICorner")
ButtonCorner.CornerRadius = UDim.new(0, 8)
ButtonCorner.Parent = Button

-- Ø§Ù„Ø£ÙˆØ§Ù…Ø±
local commandBundle = ";bundle me 148351107651039"
local commandUnchar = ";unchar"

-- Ø­Ø§Ù„Ø© Ø§Ù„Ø²Ø±
local isOn = false

-- ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø±
Button.MouseButton1Click:Connect(function()
    isOn = not isOn
    if isOn then
        Button.Text = "ØªØ´ØºÙŠÙ„ bundle"
        Button.BackgroundColor3 = Color3.fromRGB(0, 220, 0) -- Ø£Ø®Ø¶Ø± Ø¹Ù†Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„
        RequestCommandModification:InvokeServer(commandBundle)
    else
        Button.Text = "Ø§ÙŠÙ‚Ø§Ù"
        Button.BackgroundColor3 = Color3.fromRGB(0, 170, 255) -- Ø£Ø²Ø±Ù‚ Ø¹Ù†Ø¯ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù
        RequestCommandModification:InvokeServer(commandUnchar)
    end
end)

-- === Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø­Ø¨ ===
local dragging = false
local dragInput, startPos, startInputPos

local function update(input)
    local delta = input.Position - startInputPos
    Frame.Position = UDim2.new(
        startPos.X.Scale,
        startPos.X.Offset + delta.X,
        startPos.Y.Scale,
        startPos.Y.Offset + delta.Y
    )
end

-- Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø³Ø­Ø¨ Ù…Ù† Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ ÙÙ‚Ø·
DragBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        startInputPos = input.Position
        startPos = Frame.Position

        -- ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø´Ø±ÙŠØ· Ø§Ù„Ø³Ø­Ø¨ Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø¯Ø¡
        DragBar.BackgroundColor3 = Color3.fromRGB(0, 150, 250)

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
                -- Ø¥Ø¹Ø§Ø¯Ø© Ù„ÙˆÙ† Ø´Ø±ÙŠØ· Ø§Ù„Ø³Ø­Ø¨
                DragBar.BackgroundColor3 = Color3.fromRGB(0, 120, 200)
            end
        end)
    end
end)

DragBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

-- Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± ÙÙˆÙ‚ Ø§Ù„Ø´Ø±ÙŠØ·
DragBar.MouseEnter:Connect(function()
    if not dragging then
        DragBar.BackgroundColor3 = Color3.fromRGB(0, 140, 220)
    end
end)

DragBar.MouseLeave:Connect(function()
    if not dragging then
        DragBar.BackgroundColor3 = Color3.fromRGB(0, 120, 200)
    end
end)

-- Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ù„Ø²Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
Button.MouseEnter:Connect(function()
    if not isOn then
        Button.BackgroundColor3 = Color3.fromRGB(0, 180, 255)
    else
        Button.BackgroundColor3 = Color3.fromRGB(0, 230, 20)
    end
end)

Button.MouseLeave:Connect(function()
    if not isOn then
        Button.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
    else
        Button.BackgroundColor3 = Color3.fromRGB(0, 220, 0)
    end
end)

print("âœ… HDAdmin GUI Loaded!")
print("ğŸ“Œ Use the top bar to drag the interface")
print("ğŸ”§ Drag feature added successfully!")
